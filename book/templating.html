

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating and using Templates &mdash; Symfony2Docs v1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Symfony2Docs v1 documentation" href="../index.html" />
    <link rel="up" title="Book" href="index.html" />
    <link rel="next" title="Databases and Doctrine (“The Model”)" href="doctrine.html" />
    <link rel="prev" title="Routing" href="routing.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="doctrine.html" title="Databases and Doctrine (“The Model”)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="routing.html" title="Routing"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Symfony2Docs v1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Book</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="creating-and-using-templates">
<span id="index-0"></span><h1>Creating and using Templates<a class="headerlink" href="#creating-and-using-templates" title="Permalink to this headline">¶</a></h1>
<p>As you know, the <a class="reference internal" href="controller.html"><em>controller</em></a> is responsible for
handling each request that comes into a Symfony2 application. In reality,
the controller delegates the most of the heavy work to other places so that
code can be tested and reused. When a controller needs to generate HTML,
CSS or any other content, it hands the work off to the templating engine.
In this chapter, you&#8217;ll learn how to write powerful templates that can be
used to return content to the user, populate email bodies, and more. You&#8217;ll
learn shortcuts, clever ways to extend templates and how to reuse template
code.</p>
<div class="section" id="templates">
<span id="index-1"></span><h2>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h2>
<p>A template is simply a text file that can generate any text-based format
(HTML, XML, CSV, LaTeX ...). The most familiar type of template is a <em>PHP</em>
template - a text file parsed by PHP that contains a mix of text and PHP code:</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Welcome to Symfony!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$page_title</span> <span class="cp">?&gt;</span><span class="nt">&lt;/h1&gt;</span>

        <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$navigation</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
                <span class="nt">&lt;li&gt;</span>
                    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$item</span><span class="o">-&gt;</span><span class="na">getHref</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
                        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$item</span><span class="o">-&gt;</span><span class="na">getCaption</span><span class="p">()</span> <span class="cp">?&gt;</span>
                    <span class="nt">&lt;/a&gt;</span>
                <span class="nt">&lt;/li&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p id="index-2">But Symfony2 packages an even more powerful templating language called <a class="reference external" href="http://twig.sensiolabs.org">Twig</a>.
Twig allows you to write concise, readable templates that are more friendly
to web designers and, in several ways, more powerful than PHP templates:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Welcome to Symfony!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">page_title</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>

        <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Twig defines two types of special syntax:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></tt>: &#8220;Says something&#8221;: prints a variable or the result of an
expression to the template;</li>
<li><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></tt>: &#8220;Does something&#8221;: a <strong>tag</strong> that controls the logic of the
template; it is used to execute statements such as for-loops for example.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is a third syntax used for creating comments: <tt class="docutils literal"><span class="pre">{#</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">comment</span> <span class="pre">#}</span></tt>.
This syntax can be used across multiple lines like the PHP-equivalent
<tt class="docutils literal"><span class="pre">/*</span> <span class="pre">comment</span> <span class="pre">*/</span></tt> syntax.</p>
</div>
<p>Twig also contains <strong>filters</strong>, which modify content before being rendered.
The following makes the <tt class="docutils literal"><span class="pre">title</span></tt> variable all uppercase before rendering
it:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">title</span><span class="o">|</span><span class="nf">upper</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Twig comes with a long list of <a class="reference external" href="http://twig.sensiolabs.org/doc/tags/index.html">tags</a> and <a class="reference external" href="http://twig.sensiolabs.org/doc/filters/index.html">filters</a> that are available
by default. You can even <a class="reference external" href="http://twig.sensiolabs.org/doc/extensions.html">add your own extensions</a> to Twig as needed.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Registering a Twig extension is as easy as creating a new service and tagging
it with <tt class="docutils literal"><span class="pre">twig.extension</span></tt> <a class="reference internal" href="../reference/dic_tags.html#reference-dic-tags-twig-extension"><em>tag</em></a>.</p>
</div>
<p>As you&#8217;ll see throughout the documentation, Twig also supports functions
and new functions can be easily added. For example, the following uses a
standard <tt class="docutils literal"><span class="pre">for</span></tt> tag and the <tt class="docutils literal"><span class="pre">cycle</span></tt> function to print ten div tags, with
alternating <tt class="docutils literal"><span class="pre">odd</span></tt>, <tt class="docutils literal"><span class="pre">even</span></tt> classes:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="m">0.</span><span class="nv">.10</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">cycle</span><span class="o">([</span><span class="s1">&#39;odd&#39;</span><span class="o">,</span> <span class="s1">&#39;even&#39;</span><span class="o">],</span> <span class="nv">i</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- some HTML here --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Throughout this chapter, template examples will be shown in both Twig and PHP.</p>
<div class="sidebar">
<p class="first sidebar-title">Why Twig?</p>
<p>Twig templates are meant to be simple and won&#8217;t process PHP tags. This
is by design: the Twig template system is meant to express presentation,
not program logic. The more you use Twig, the more you&#8217;ll appreciate
and benefit from this distinction. And of course, you&#8217;ll be loved by
web designers everywhere.</p>
<p>Twig can also do things that PHP can&#8217;t, such as true template inheritance
(Twig templates compile down to PHP classes that inherit from each other),
whitespace control, sandboxing, and the inclusion of custom functions
and filters that only affect templates. Twig contains little features
that make writing templates easier and more concise. Take the following
example, which combines a loop with a logical <tt class="docutils literal"><span class="pre">if</span></tt> statement:</p>
<div class="last highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;</span>No users found<span class="nt">&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="twig-template-caching">
<span id="index-3"></span><h3>Twig Template Caching<a class="headerlink" href="#twig-template-caching" title="Permalink to this headline">¶</a></h3>
<p>Twig is fast. Each Twig template is compiled down to a native PHP class
that is rendered at runtime. The compiled classes are located in the
<tt class="docutils literal"><span class="pre">app/cache/{environment}/twig</span></tt> directory (where <tt class="docutils literal"><span class="pre">{environment}</span></tt> is the
environment, such as <tt class="docutils literal"><span class="pre">dev</span></tt> or <tt class="docutils literal"><span class="pre">prod</span></tt>) and in some cases can be useful
while debugging. See <a class="reference internal" href="page_creation.html#environments-summary"><em>Environments</em></a> for more information on
environments.</p>
<p>When <tt class="docutils literal"><span class="pre">debug</span></tt> mode is enabled (common in the <tt class="docutils literal"><span class="pre">dev</span></tt> environment), a Twig
template will be automatically recompiled when changes are made to it. This
means that during development you can happily make changes to a Twig template
and instantly see the changes without needing to worry about clearing any
cache.</p>
<p>When <tt class="docutils literal"><span class="pre">debug</span></tt> mode is disabled (common in the <tt class="docutils literal"><span class="pre">prod</span></tt> environment), however,
you must clear the Twig cache directory so that the Twig templates will
regenerate. Remember to do this when deploying your application.</p>
</div>
</div>
<div class="section" id="template-inheritance-and-layouts">
<span id="index-4"></span><h2>Template Inheritance and Layouts<a class="headerlink" href="#template-inheritance-and-layouts" title="Permalink to this headline">¶</a></h2>
<p>More often than not, templates in a project share common elements, like the
header, footer, sidebar or more. In Symfony2, we like to think about this
problem differently: a template can be decorated by another one. This works
exactly the same as PHP classes: template inheritance allows you to build
a base &#8220;layout&#8221; template that contains all the common elements of your site
defined as <strong>blocks</strong> (think &#8220;PHP class with base methods&#8221;). A child template
can extend the base layout and override any of its blocks (think &#8220;PHP subclass
that overrides certain methods of its parent class&#8221;).</p>
<p>First, build a base layout file:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Test Application<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
            <span class="nt">&lt;ul&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/blog&quot;</span><span class="nt">&gt;</span>Blog<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;/ul&gt;</span>
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/base.html.php --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;Test Application&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
                <span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span class="cp">?&gt;</span>
                <span class="nt">&lt;ul&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/blog&quot;</span><span class="nt">&gt;</span>Blog<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;/ul&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Though the discussion about template inheritance will be in terms of Twig,
the philosophy is the same between Twig and PHP templates.</p>
</div>
<p>This template defines the base HTML skeleton document of a simple two-column
page. In this example, three <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> areas are defined (<tt class="docutils literal"><span class="pre">title</span></tt>,
<tt class="docutils literal"><span class="pre">sidebar</span></tt> and <tt class="docutils literal"><span class="pre">body</span></tt>). Each block may be overridden by a child template
or left with its default implementation. This template could also be rendered
directly. In that case the <tt class="docutils literal"><span class="pre">title</span></tt>, <tt class="docutils literal"><span class="pre">sidebar</span></tt> and <tt class="docutils literal"><span class="pre">body</span></tt> blocks would
simply retain the default values used in this template.</p>
<p>A child template might look like this:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>My cool blog posts<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">entry</span> <span class="k">in</span> <span class="nv">blog_entries</span> <span class="cp">%}</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">entry.title</span> <span class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">entry.body</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/BlogBundle/Resources/views/Blog/index.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;::base.html.php&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;My cool blog posts&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$blog_entries</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">getTitle</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">stop</span><span class="p">()</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The parent template is identified by a special string syntax
(<tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>) that indicates that the template lives in the
<tt class="docutils literal"><span class="pre">app/Resources/views</span></tt> directory of the project. This naming convention is
explained fully in <a class="reference internal" href="#template-naming-locations"><em>Template Naming and Locations</em></a>.</p>
</div>
<p>The key to template inheritance is the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt> tag. This tells
the templating engine to first evaluate the base template, which sets up
the layout and defines several blocks. The child template is then rendered,
at which point the <tt class="docutils literal"><span class="pre">title</span></tt> and <tt class="docutils literal"><span class="pre">body</span></tt> blocks of the parent are replaced
by those from the child. Depending on the value of <tt class="docutils literal"><span class="pre">blog_entries</span></tt>, the
output might look like this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>My cool blog posts<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;ul&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/blog&quot;</span><span class="nt">&gt;</span>Blog<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h2&gt;</span>My first post<span class="nt">&lt;/h2&gt;</span>
            <span class="nt">&lt;p&gt;</span>The body of the first post.<span class="nt">&lt;/p&gt;</span>

            <span class="nt">&lt;h2&gt;</span>Another post<span class="nt">&lt;/h2&gt;</span>
            <span class="nt">&lt;p&gt;</span>The body of the second post.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Notice that since the child template didn&#8217;t define a <tt class="docutils literal"><span class="pre">sidebar</span></tt> block, the
value from the parent template is used instead. Content within a <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt>
tag in a parent template is always used by default.</p>
<p>You can use as many levels of inheritance as you want. In the next section,
a common three-level inheritance model will be explained along with how templates
are organized inside a Symfony2 project.</p>
<p>When working with template inheritance, here are some tips to keep in mind:</p>
<ul>
<li><p class="first">If you use <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt> in a template, it must be the first tag in
that template.</p>
</li>
<li><p class="first">The more <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tags you have in your base templates, the better.
Remember, child templates don&#8217;t have to define all parent blocks, so create
as many blocks in your base templates as you want and give each a sensible
default. The more blocks your base templates have, the more flexible your
layout will be.</p>
</li>
<li><p class="first">If you find yourself duplicating content in a number of templates, it probably
means you should move that content to a <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> in a parent template.
In some cases, a better solution may be to move the content to a new template
and <tt class="docutils literal"><span class="pre">include</span></tt> it (see <a class="reference internal" href="#including-templates"><em>Including other Templates</em></a>).</p>
</li>
<li><p class="first">If you need to get the content of a block from the parent template, you
can use the <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">parent()</span> <span class="pre">}}</span></tt> function. This is useful if you want to add
to the contents of a parent block instead of completely overriding it:</p>
<blockquote>
<div><div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
    <span class="nt">&lt;h3&gt;</span>Table of Contents<span class="nt">&lt;/h3&gt;</span>
    ...
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="template-naming-and-locations">
<span id="template-naming-locations"></span><span id="index-5"></span><h2>Template Naming and Locations<a class="headerlink" href="#template-naming-and-locations" title="Permalink to this headline">¶</a></h2>
<p>By default, templates can live in two different locations:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">app/Resources/views/</span></tt>: The applications <tt class="docutils literal"><span class="pre">views</span></tt> directory can contain
application-wide base templates (i.e. your application&#8217;s layouts) as well as
templates that override bundle templates (see
<a class="reference internal" href="#overriding-bundle-templates"><em>Overriding Bundle Templates</em></a>);</li>
<li><tt class="docutils literal"><span class="pre">path/to/bundle/Resources/views/</span></tt>: Each bundle houses its templates in its
<tt class="docutils literal"><span class="pre">Resources/views</span></tt> directory (and subdirectories). The majority of templates
will live inside a bundle.</li>
</ul>
<p>Symfony2 uses a <strong>bundle</strong>:<strong>controller</strong>:<strong>template</strong> string syntax for
templates. This allows for several different types of templates, each which
lives in a specific location:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></tt>: This syntax is used to specify a
template for a specific page. The three parts of the string, each separated
by a colon (<tt class="docutils literal"><span class="pre">:</span></tt>), mean the following:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>: (<em>bundle</em>) the template lives inside the
<tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> (e.g. <tt class="docutils literal"><span class="pre">src/Acme/BlogBundle</span></tt>);</li>
<li><tt class="docutils literal"><span class="pre">Blog</span></tt>: (<em>controller</em>) indicates that the template lives inside the
<tt class="docutils literal"><span class="pre">Blog</span></tt> subdirectory of <tt class="docutils literal"><span class="pre">Resources/views</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">index.html.twig</span></tt>: (<em>template</em>) the actual name of the file is
<tt class="docutils literal"><span class="pre">index.html.twig</span></tt>.</li>
</ul>
</div></blockquote>
<p>Assuming that the <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> lives at <tt class="docutils literal"><span class="pre">src/Acme/BlogBundle</span></tt>, the
final path to the layout would be <tt class="docutils literal"><span class="pre">src/Acme/BlogBundle/Resources/views/Blog/index.html.twig</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">AcmeBlogBundle::layout.html.twig</span></tt>: This syntax refers to a base template
that&#8217;s specific to the <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>. Since the middle, &#8220;controller&#8221;,
portion is missing (e.g. <tt class="docutils literal"><span class="pre">Blog</span></tt>), the template lives at
<tt class="docutils literal"><span class="pre">Resources/views/layout.html.twig</span></tt> inside <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>: This syntax refers to an application-wide base template
or layout. Notice that the string begins with two colons (<tt class="docutils literal"><span class="pre">::</span></tt>), meaning
that both the <em>bundle</em> and <em>controller</em> portions are missing. This means
that the template is not located in any bundle, but instead in the root
<tt class="docutils literal"><span class="pre">app/Resources/views/</span></tt> directory.</p>
</li>
</ul>
<p>In the <a class="reference internal" href="#overriding-bundle-templates"><em>Overriding Bundle Templates</em></a> section, you&#8217;ll find out how each
template living inside the <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>, for example, can be overridden
by placing a template of the same name in the <tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/</span></tt>
directory. This gives the power to override templates from any vendor bundle.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Hopefully the template naming syntax looks familiar - it&#8217;s the same naming
convention used to refer to <a class="reference internal" href="routing.html#controller-string-syntax"><em>Controller Naming Pattern</em></a>.</p>
</div>
<div class="section" id="template-suffix">
<h3>Template Suffix<a class="headerlink" href="#template-suffix" title="Permalink to this headline">¶</a></h3>
<p>The <strong>bundle</strong>:<strong>controller</strong>:<strong>template</strong> format of each template specifies
<em>where</em> the template file is located. Every template name also has two extensions
that specify the <em>format</em> and <em>engine</em> for that template.</p>
<ul class="simple">
<li><strong>AcmeBlogBundle:Blog:index.html.twig</strong> - HTML format, Twig engine</li>
<li><strong>AcmeBlogBundle:Blog:index.html.php</strong> - HTML format, PHP engine</li>
<li><strong>AcmeBlogBundle:Blog:index.css.twig</strong> - CSS format, Twig engine</li>
</ul>
<p>By default, any Symfony2 template can be written in either Twig or PHP, and
the last part of the extension (e.g. <tt class="docutils literal"><span class="pre">.twig</span></tt> or <tt class="docutils literal"><span class="pre">.php</span></tt>) specifies which
of these two <em>engines</em> should be used. The first part of the extension,
(e.g. <tt class="docutils literal"><span class="pre">.html</span></tt>, <tt class="docutils literal"><span class="pre">.css</span></tt>, etc) is the final format that the template will
generate. Unlike the engine, which determines how Symfony2 parses the template,
this is simply an organizational tactic used in case the same resource needs
to be rendered as HTML (<tt class="docutils literal"><span class="pre">index.html.twig</span></tt>), XML (<tt class="docutils literal"><span class="pre">index.xml.twig</span></tt>),
or any other format. For more information, read the <a class="reference internal" href="#template-formats"><em>Debugging</em></a>
section.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The available &#8220;engines&#8221; can be configured and even new engines added.
See <a class="reference internal" href="#template-configuration"><em>Templating Configuration</em></a> for more details.</p>
</div>
</div>
</div>
<div class="section" id="tags-and-helpers">
<span id="index-6"></span><h2>Tags and Helpers<a class="headerlink" href="#tags-and-helpers" title="Permalink to this headline">¶</a></h2>
<p>You already understand the basics of templates, how they&#8217;re named and how
to use template inheritance. The hardest parts are already behind you. In
this section, you&#8217;ll learn about a large group of tools available to help
perform the most common template tasks such as including other templates,
linking to pages and including images.</p>
<p>Symfony2 comes bundled with several specialized Twig tags and functions that
ease the work of the template designer. In PHP, the templating system provides
an extensible <em>helper</em> system that provides useful features in a template
context.</p>
<p>We&#8217;ve already seen a few built-in Twig tags (<tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> &amp; <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt>)
as well as an example of a PHP helper (<tt class="docutils literal"><span class="pre">$view['slots']</span></tt>). Let&#8217;s learn a
few more.</p>
<div class="section" id="including-other-templates">
<span id="including-templates"></span><span id="index-7"></span><h3>Including other Templates<a class="headerlink" href="#including-other-templates" title="Permalink to this headline">¶</a></h3>
<p>You&#8217;ll often want to include the same template or code fragment on several
different pages. For example, in an application with &#8220;news articles&#8221;, the
template code displaying an article might be used on the article detail page,
on a page displaying the most popular articles, or in a list of the latest
articles.</p>
<p>When you need to reuse a chunk of PHP code, you typically move the code to
a new PHP class or function. The same is true for templates. By moving the
reused template code into its own template, it can be included from any other
template. First, create the template that you&#8217;ll need to reuse.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticleBundle/Resources/views/Article/articleDetails.html.twig #}</span>
<span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;byline&quot;</span><span class="nt">&gt;</span>by <span class="cp">{{</span> <span class="nv">article.authorName</span> <span class="cp">}}</span><span class="nt">&lt;/h3&gt;</span>

<span class="nt">&lt;p&gt;</span>
    <span class="cp">{{</span> <span class="nv">article.body</span> <span class="cp">}}</span>
<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/ArticleBundle/Resources/views/Article/articleDetails.html.php --&gt;</span>
<span class="nt">&lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getTitle</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;byline&quot;</span><span class="nt">&gt;</span>by <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getAuthorName</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/h3&gt;</span>

<span class="nt">&lt;p&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Including this template from any other template is simple:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticleBundle/Resources/Article/list.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;AcmeArticleBundle::layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Recent Articles<span class="nt">&lt;h1&gt;</span>

    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">articles</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;AcmeArticleBundle:Article:articleDetails.html.twig&#39;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;article&#39;</span><span class="o">:</span> <span class="nv">article</span><span class="o">}</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/ArticleBundle/Resources/Article/list.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;AcmeArticleBundle::layout.html.php&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Recent Articles<span class="nt">&lt;/h1&gt;</span>

    <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$articles</span> <span class="k">as</span> <span class="nv">$article</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;AcmeArticleBundle:Article:articleDetails.html.php&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;article&#39;</span> <span class="o">=&gt;</span> <span class="nv">$article</span><span class="p">))</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">stop</span><span class="p">()</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>The template is included using the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">include</span> <span class="pre">%}</span></tt> tag. Notice that the
template name follows the same typical convention. The <tt class="docutils literal"><span class="pre">articleDetails.html.twig</span></tt>
template uses an <tt class="docutils literal"><span class="pre">article</span></tt> variable. This is passed in by the <tt class="docutils literal"><span class="pre">list.html.twig</span></tt>
template using the <tt class="docutils literal"><span class="pre">with</span></tt> command.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The <tt class="docutils literal"><span class="pre">{'article':</span> <span class="pre">article}</span></tt> syntax is the standard Twig syntax for hash
maps (i.e. an array with named keys). If we needed to pass in multiple
elements, it would look like this: <tt class="docutils literal"><span class="pre">{'foo':</span> <span class="pre">foo,</span> <span class="pre">'bar':</span> <span class="pre">bar}</span></tt>.</p>
</div>
</div>
<div class="section" id="embedding-controllers">
<span id="templating-embedding-controller"></span><span id="index-8"></span><h3>Embedding Controllers<a class="headerlink" href="#embedding-controllers" title="Permalink to this headline">¶</a></h3>
<p>In some cases, you need to do more than include a simple template. Suppose
you have a sidebar in your layout that contains the three most recent articles.
Retrieving the three articles may include querying the database or performing
other heavy logic that can&#8217;t be done from within a template.</p>
<p>The solution is to simply embed the result of an entire controller from your
template. First, create a controller that renders a certain number of recent
articles:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// src/Acme/ArticleBundle/Controller/ArticleController.php</span>

<span class="x">class ArticleController extends Controller</span>
<span class="x">{</span>
<span class="x">    public function recentArticlesAction($max = 3)</span>
<span class="x">    {</span>
<span class="x">        // make a database call or other logic to get the &quot;$max&quot; most recent articles</span>
<span class="x">        $articles = ...;</span>

<span class="x">        return $this-&gt;render(&#39;AcmeArticleBundle:Article:recentList.html.twig&#39;, array(&#39;articles&#39; =&gt; $articles));</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">recentList</span></tt> template is perfectly straightforward:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticleBundle/Resources/views/Article/recentList.html.twig #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">articles</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/article/</span><span class="cp">{{</span> <span class="nv">article.slug</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/ArticleBundle/Resources/views/Article/recentList.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$articles</span> <span class="k">as</span> <span class="nv">$article</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/article/</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getSlug</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getTitle</span><span class="p">()</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notice that we&#8217;ve cheated and hardcoded the article URL in this example
(e.g. <tt class="docutils literal"><span class="pre">/article/*slug*</span></tt>). This is a bad practice. In the next section,
you&#8217;ll learn how to do this correctly.</p>
</div>
<p>To include the controller, you&#8217;ll need to refer to it using the standard string
syntax for controllers (i.e. <strong>bundle</strong>:<strong>controller</strong>:<strong>action</strong>):</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
...

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">render</span> <span class="s2">&quot;AcmeArticleBundle:Article:recentArticles&quot;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;max&#39;</span><span class="o">:</span> <span class="m">3</span><span class="o">}</span> <span class="cp">%}</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/base.html.php --&gt;</span>
...

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;actions&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;AcmeArticleBundle:Article:recentArticles&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">))</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Whenever you find that you need a variable or a piece of information that
you don&#8217;t have access to in a template, consider rendering a controller.
Controllers are fast to execute and promote good code organization and reuse.</p>
</div>
<div class="section" id="linking-to-pages">
<span id="index-9"></span><h3>Linking to Pages<a class="headerlink" href="#linking-to-pages" title="Permalink to this headline">¶</a></h3>
<p>Creating links to other pages in your application is one of the most common
jobs for a template. Instead of hardcoding URLs in templates, use the <tt class="docutils literal"><span class="pre">path</span></tt>
Twig function (or the <tt class="docutils literal"><span class="pre">router</span></tt> helper in PHP) to generate URLs based on
the routing configuration. Later, if you want to modify the URL of a particular
page, all you&#8217;ll need to do is change the routing configuration; the templates
will automatically generate the new URL.</p>
<p>First, link to the &#8220;_welcome&#8221; page, which is accessible via the following routing
configuration:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">_welcome</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeDemoBundle</span><span class="p-Indicator">:</span><span class="nv">Welcome</span><span class="p-Indicator">:</span><span class="nv">index</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;_welcome&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeDemoBundle:Welcome:index<span class="nt">&lt;/default&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">$collection = new RouteCollection();</span>
<span class="x">$collection-&gt;add(&#39;_welcome&#39;, new Route(&#39;/&#39;, array(</span>
<span class="x">    &#39;_controller&#39; =&gt; &#39;AcmeDemoBundle:Welcome:index&#39;,</span>
<span class="x">)));</span>

<span class="x">return $collection;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>To link to the page, just use the <tt class="docutils literal"><span class="pre">path</span></tt> Twig function and refer to the route:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;_welcome&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;_welcome&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>As expected, this will generate the URL <tt class="docutils literal"><span class="pre">/</span></tt>. Let&#8217;s see how this works with
a more complicated route:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">article_show</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/article/{slug}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeArticleBundle</span><span class="p-Indicator">:</span><span class="nv">Article</span><span class="p-Indicator">:</span><span class="nv">show</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;article_show&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/article/{slug}&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeArticleBundle:Article:show<span class="nt">&lt;/default&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">$collection = new RouteCollection();</span>
<span class="x">$collection-&gt;add(&#39;article_show&#39;, new Route(&#39;/article/{slug}&#39;, array(</span>
<span class="x">    &#39;_controller&#39; =&gt; &#39;AcmeArticleBundle:Article:show&#39;,</span>
<span class="x">)));</span>

<span class="x">return $collection;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>In this case, you need to specify both the route name (<tt class="docutils literal"><span class="pre">article_show</span></tt>) and
a value for the <tt class="docutils literal"><span class="pre">{slug}</span></tt> parameter. Using this route, let&#8217;s revisit the
<tt class="docutils literal"><span class="pre">recentList</span></tt> template from the previous section and link to the articles
correctly:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticleBundle/Resources/views/Article/recentList.html.twig #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">articles</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;article_show&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="s1">&#39;slug&#39;</span><span class="o">:</span> <span class="nv">article.slug</span> <span class="o">})</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/ArticleBundle/Resources/views/Article/recentList.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$articles</span> <span class="nx">in</span> <span class="nv">$article</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;article_show&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getSlug</span><span class="p">())</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getTitle</span><span class="p">()</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>You can also generate an absolute URL by using the <tt class="docutils literal"><span class="pre">url</span></tt> Twig function:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">url</span><span class="o">(</span><span class="s1">&#39;_welcome&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
<p>The same can be done in PHP templates by passing a third argument to
the <tt class="docutils literal"><span class="pre">generate()</span></tt> method:</p>
<div class="last highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;_welcome&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="k">true</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="linking-to-assets">
<span id="index-10"></span><h3>Linking to Assets<a class="headerlink" href="#linking-to-assets" title="Permalink to this headline">¶</a></h3>
<p>Templates also commonly refer to images, Javascript, stylesheets and other
assets. Of course you could hard-code the path to these assets (e.g. <tt class="docutils literal"><span class="pre">/images/logo.png</span></tt>),
but Symfony2 provides a more dynamic option via the <tt class="docutils literal"><span class="pre">assets</span></tt> Twig function:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;images/logo.png&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">alt=</span><span class="s">&quot;Symfony!&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;css/blog.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span class="p">(</span><span class="s1">&#39;images/logo.png&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">alt=</span><span class="s">&quot;Symfony!&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span class="p">(</span><span class="s1">&#39;css/blog.css&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>The <tt class="docutils literal"><span class="pre">asset</span></tt> function&#8217;s main purpose is to make your application more portable.
If your application lives at the root of your host (e.g. <a class="reference external" href="http://example.com">http://example.com</a>),
then the rendered paths should be <tt class="docutils literal"><span class="pre">/images/logo.png</span></tt>. But if your application
lives in a subdirectory (e.g. <a class="reference external" href="http://example.com/my_app">http://example.com/my_app</a>), each asset path
should render with the subdirectory (e.g. <tt class="docutils literal"><span class="pre">/my_app/images/logo.png</span></tt>). The
<tt class="docutils literal"><span class="pre">asset</span></tt> function takes care of this by determining how your application is
being used and generating the correct paths accordingly.</p>
<p>Additionally, if you use the <tt class="docutils literal"><span class="pre">asset</span></tt> function, Symfony can automatically
append a query string to your asset, in order to guarantee that updated static
assets won&#8217;t be cached when deployed. For example, <tt class="docutils literal"><span class="pre">/images/logo.png</span></tt> might
look like <tt class="docutils literal"><span class="pre">/images/logo.png?v2</span></tt>. For more information, see the <a class="reference internal" href="../reference/configuration/framework.html#ref-framework-assets-version"><em>assets_version</em></a>
configuration option.</p>
</div>
</div>
<div class="section" id="including-stylesheets-and-javascripts-in-twig">
<span id="index-11"></span><h2>Including Stylesheets and Javascripts in Twig<a class="headerlink" href="#including-stylesheets-and-javascripts-in-twig" title="Permalink to this headline">¶</a></h2>
<p>No site would be complete without including Javascript files and stylesheets.
In Symfony, the inclusion of these assets is handled elegantly by taking
advantage of Symfony&#8217;s template inheritance.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">This section will teach you the philosophy behind including stylesheet
and Javascript assets in Symfony. Symfony also packages another library,
called Assetic, which follows this philosophy but allows you to do much
more interesting things with those assets. For more information on
using Assetic see <a class="reference internal" href="../cookbook/assetic/asset_management.html"><em>How to Use Assetic for Asset Management</em></a>.</p>
</div>
<p>Start by adding two blocks to your base template that will hold your assets:
one called <tt class="docutils literal"><span class="pre">stylesheets</span></tt> inside the <tt class="docutils literal"><span class="pre">head</span></tt> tag and another called <tt class="docutils literal"><span class="pre">javascripts</span></tt>
just above the closing <tt class="docutils literal"><span class="pre">body</span></tt> tag. These blocks will contain all of the
stylesheets and Javascripts that you&#8217;ll need throughout your site:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# &#39;app/Resources/views/base.html.twig&#39; #}</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="c">{# ... #}</span>

        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
            <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;/css/main.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="c">{# ... #}</span>

        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">javascripts</span> <span class="cp">%}</span>
            <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;/js/main.js&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>That&#8217;s easy enough! But what if you need to include an extra stylesheet or
Javascript from a child template? For example, suppose you have a contact
page and you need to include a <tt class="docutils literal"><span class="pre">contact.css</span></tt> stylesheet <em>just</em> on that
page. From inside that contact page&#8217;s template, do the following:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/DemoBundle/Resources/views/Contact/contact.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;/css/contact.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="c">{# ... #}</span>
</pre></div>
</div>
<p>In the child template, you simply override the <tt class="docutils literal"><span class="pre">stylesheets</span></tt> block and
put your new stylesheet tag inside of that block. Of course, since you want
to add to the parent block&#8217;s content (and not actually <em>replace</em> it), you
should use the <tt class="docutils literal"><span class="pre">parent()</span></tt> Twig function to include everything from the <tt class="docutils literal"><span class="pre">stylesheets</span></tt>
block of the base template.</p>
<p>You can also include assets located in your bundles&#8217; <tt class="docutils literal"><span class="pre">Resources/public</span></tt> folder.
You will need to run the <tt class="docutils literal"><span class="pre">php</span> <span class="pre">app/console</span> <span class="pre">assets:install</span> <span class="pre">target</span> <span class="pre">[--symlink]</span></tt>
command, which moves (or symlinks) files into the correct location. (target
is by default &#8220;web&#8221;).</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;bundles/acmedemo/css/contact.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The end result is a page that includes both the <tt class="docutils literal"><span class="pre">main.css</span></tt> and <tt class="docutils literal"><span class="pre">contact.css</span></tt>
stylesheets.</p>
</div>
<div class="section" id="global-template-variables">
<h2>Global Template Variables<a class="headerlink" href="#global-template-variables" title="Permalink to this headline">¶</a></h2>
<p>During each request, Symfony2 will set a global template variable <tt class="docutils literal"><span class="pre">app</span></tt>
in both Twig and PHP template engines by default.  The <tt class="docutils literal"><span class="pre">app</span></tt> variable
is a <tt class="xref py py-class docutils literal"><span class="pre">Symfony\Bundle\FrameworkBundle\Templating\GlobalVariables</span></tt>
instance which will give you access to some application specific variables
automatically:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">app.security</span></tt> - The security context.</li>
<li><tt class="docutils literal"><span class="pre">app.user</span></tt> - The current user object.</li>
<li><tt class="docutils literal"><span class="pre">app.request</span></tt> - The request object.</li>
<li><tt class="docutils literal"><span class="pre">app.session</span></tt> - The session object.</li>
<li><tt class="docutils literal"><span class="pre">app.environment</span></tt> - The current environment (dev, prod, etc).</li>
<li><tt class="docutils literal"><span class="pre">app.debug</span></tt> - True if in debug mode. False otherwise.</li>
</ul>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;p&gt;</span>Username: <span class="cp">{{</span> <span class="nv">app.user.username</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">app.debug</span> <span class="cp">%}</span>
    <span class="nt">&lt;p&gt;</span>Request method: <span class="cp">{{</span> <span class="nv">app.request.method</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>Application Environment: <span class="cp">{{</span> <span class="nv">app.environment</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;p&gt;</span>Username: <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">getUser</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getUsername</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">getDebug</span><span class="p">())</span><span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;p&gt;</span>Request method: <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getMethod</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>Application Environment: <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">getEnvironment</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can add your own global template variables. See the cookbook example
on <a class="reference internal" href="../cookbook/templating/global_variables.html"><em>Global Variables</em></a>.</p>
</div>
</div>
<div class="section" id="configuring-and-using-the-templating-service">
<span id="index-12"></span><h2>Configuring and using the <tt class="docutils literal"><span class="pre">templating</span></tt> Service<a class="headerlink" href="#configuring-and-using-the-templating-service" title="Permalink to this headline">¶</a></h2>
<p>The heart of the template system in Symfony2 is the templating <tt class="docutils literal"><span class="pre">Engine</span></tt>.
This special object is responsible for rendering templates and returning
their content. When you render a template in a controller, for example,
you&#8217;re actually using the templating engine service. For example:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">return $this-&gt;render(&#39;AcmeArticleBundle:Article:index.html.twig&#39;);</span>
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">$engine = $this-&gt;container-&gt;get(&#39;templating&#39;);</span>
<span class="x">$content = $engine-&gt;render(&#39;AcmeArticleBundle:Article:index.html.twig&#39;);</span>

<span class="x">return $response = new Response($content);</span>
</pre></div>
</div>
<p id="template-configuration">The templating engine (or &#8220;service&#8221;) is preconfigured to work automatically
inside Symfony2. It can, of course, be configured further in the application
configuration file:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>
    <span class="l-Scalar-Plain">templating</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">engines</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&#39;twig&#39;</span><span class="p-Indicator">]</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;framework:templating&gt;</span>
    <span class="nt">&lt;framework:engine</span> <span class="na">id=</span><span class="s">&quot;twig&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/framework:templating&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">// app/config/config.php</span>
<span class="x">$container-&gt;loadFromExtension(&#39;framework&#39;, array(</span>
<span class="x">    // ...</span>
<span class="x">    &#39;templating&#39;      =&gt; array(</span>
<span class="x">        &#39;engines&#39; =&gt; array(&#39;twig&#39;),</span>
<span class="x">    ),</span>
<span class="x">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Several configuration options are available and are covered in the
<a class="reference internal" href="../reference/configuration/framework.html"><em>Configuration Appendix</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">twig</span></tt> engine is mandatory to use the webprofiler (as well as many
third-party bundles).</p>
</div>
</div>
<div class="section" id="overriding-bundle-templates">
<span id="index-13"></span><span id="id1"></span><h2>Overriding Bundle Templates<a class="headerlink" href="#overriding-bundle-templates" title="Permalink to this headline">¶</a></h2>
<p>The Symfony2 community prides itself on creating and maintaining high quality
bundles (see <a class="reference external" href="http://knpbundles.com">KnpBundles.com</a>) for a large number of different features.
Once you use a third-party bundle, you&#8217;ll likely need to override and customize
one or more of its templates.</p>
<p>Suppose you&#8217;ve included the imaginary open-source <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> in your
project (e.g. in the <tt class="docutils literal"><span class="pre">src/Acme/BlogBundle</span></tt> directory). And while you&#8217;re
really happy with everything, you want to override the blog &#8220;list&#8221; page to
customize the markup specifically for your application. By digging into the
<tt class="docutils literal"><span class="pre">Blog</span></tt> controller of the <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>, you find the following:</p>
<div class="highlight-python"><pre>public function indexAction()
{
    $blogs = // some logic to retrieve the blogs

    $this-&gt;render('AcmeBlogBundle:Blog:index.html.twig', array('blogs' =&gt; $blogs));
}</pre>
</div>
<p>When the <tt class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></tt> is rendered, Symfony2 actually
looks in two different locations for the template:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/Blog/index.html.twig</span></tt></li>
<li><tt class="docutils literal"><span class="pre">src/Acme/BlogBundle/Resources/views/Blog/index.html.twig</span></tt></li>
</ol>
<p>To override the bundle template, just copy the <tt class="docutils literal"><span class="pre">index.html.twig</span></tt> template
from the bundle to <tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/Blog/index.html.twig</span></tt>
(the <tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle</span></tt> directory won&#8217;t exist, so you&#8217;ll need
to create it). You&#8217;re now free to customize the template.</p>
<p>This logic also applies to base bundle templates. Suppose also that each
template in <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> inherits from a base template called
<tt class="docutils literal"><span class="pre">AcmeBlogBundle::layout.html.twig</span></tt>. Just as before, Symfony2 will look in
the following two places for the template:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/layout.html.twig</span></tt></li>
<li><tt class="docutils literal"><span class="pre">src/Acme/BlogBundle/Resources/views/layout.html.twig</span></tt></li>
</ol>
<p>Once again, to override the template, just copy it from the bundle to
<tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/layout.html.twig</span></tt>. You&#8217;re now free to
customize this copy as you see fit.</p>
<p>If you take a step back, you&#8217;ll see that Symfony2 always starts by looking in
the <tt class="docutils literal"><span class="pre">app/Resources/{BUNDLE_NAME}/views/</span></tt> directory for a template. If the
template doesn&#8217;t exist there, it continues by checking inside the
<tt class="docutils literal"><span class="pre">Resources/views</span></tt> directory of the bundle itself. This means that all bundle
templates can be overridden by placing them in the correct <tt class="docutils literal"><span class="pre">app/Resources</span></tt>
subdirectory.</p>
<span class="target" id="templating-overriding-core-templates"></span><div class="section" id="overriding-core-templates">
<span id="index-14"></span><h3>Overriding Core Templates<a class="headerlink" href="#overriding-core-templates" title="Permalink to this headline">¶</a></h3>
<p>Since the Symfony2 framework itself is just a bundle, core templates can be
overridden in the same way. For example, the core <tt class="docutils literal"><span class="pre">TwigBundle</span></tt> contains
a number of different &#8220;exception&#8221; and &#8220;error&#8221; templates that can be overridden
by copying each from the <tt class="docutils literal"><span class="pre">Resources/views/Exception</span></tt> directory of the
<tt class="docutils literal"><span class="pre">TwigBundle</span></tt> to, you guessed it, the
<tt class="docutils literal"><span class="pre">app/Resources/TwigBundle/views/Exception</span></tt> directory.</p>
</div>
</div>
<div class="section" id="three-level-inheritance">
<span id="index-15"></span><h2>Three-level Inheritance<a class="headerlink" href="#three-level-inheritance" title="Permalink to this headline">¶</a></h2>
<p>One common way to use inheritance is to use a three-level approach. This
method works perfectly with the three different types of templates we&#8217;ve just
covered:</p>
<ul>
<li><p class="first">Create a <tt class="docutils literal"><span class="pre">app/Resources/views/base.html.twig</span></tt> file that contains the main
layout for your application (like in the previous example). Internally, this
template is called <tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>;</p>
</li>
<li><p class="first">Create a template for each &#8220;section&#8221; of your site. For example, an <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>,
would have a template called <tt class="docutils literal"><span class="pre">AcmeBlogBundle::layout.html.twig</span></tt> that contains
only blog section-specific elements;</p>
<blockquote>
<div><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/BlogBundle/Resources/views/layout.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Blog Application<span class="nt">&lt;/h1&gt;</span>

    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Create individual templates for each page and make each extend the appropriate
section template. For example, the &#8220;index&#8221; page would be called something
close to <tt class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></tt> and list the actual blog posts.</p>
<blockquote>
<div><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;AcmeBlogBundle::layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">entry</span> <span class="k">in</span> <span class="nv">blog_entries</span> <span class="cp">%}</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">entry.title</span> <span class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">entry.body</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<p>Notice that this template extends the section template -(<tt class="docutils literal"><span class="pre">AcmeBlogBundle::layout.html.twig</span></tt>)
which in-turn extends the base application layout (<tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>).
This is the common three-level inheritance model.</p>
<p>When building your application, you may choose to follow this method or simply
make each page template extend the base application template directly
(e.g. <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">'::base.html.twig'</span> <span class="pre">%}</span></tt>). The three-template model is
a best-practice method used by vendor bundles so that the base template for
a bundle can be easily overridden to properly extend your application&#8217;s base
layout.</p>
</div>
<div class="section" id="output-escaping">
<span id="index-16"></span><h2>Output Escaping<a class="headerlink" href="#output-escaping" title="Permalink to this headline">¶</a></h2>
<p>When generating HTML from a template, there is always a risk that a template
variable may output unintended HTML or dangerous client-side code. The result
is that dynamic content could break the HTML of the resulting page or allow
a malicious user to perform a <a class="reference external" href="http://en.wikipedia.org/wiki/Cross-site_scripting">Cross Site Scripting</a> (XSS) attack. Consider
this classic example:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="x">Hello </span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre>Hello <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$name</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Imagine that the user enters the following code as his/her name:</p>
<div class="highlight-python"><pre>&lt;script&gt;alert('hello!')&lt;/script&gt;</pre>
</div>
<p>Without any output escaping, the resulting template will cause a JavaScript
alert box to pop up:</p>
<div class="highlight-python"><pre>Hello &lt;script&gt;alert('hello!')&lt;/script&gt;</pre>
</div>
<p>And while this seems harmless, if a user can get this far, that same user
should also be able to write JavaScript that performs malicious actions
inside the secure area of an unknowing, legitimate user.</p>
<p>The answer to the problem is output escaping. With output escaping on, the
same template will render harmlessly, and literally print the <tt class="docutils literal"><span class="pre">script</span></tt>
tag to the screen:</p>
<div class="highlight-python"><pre>Hello &amp;lt;script&amp;gt;alert(&amp;#39;helloe&amp;#39;)&amp;lt;/script&amp;gt;</pre>
</div>
<p>The Twig and PHP templating systems approach the problem in different ways.
If you&#8217;re using Twig, output escaping is on by default and you&#8217;re protected.
In PHP, output escaping is not automatic, meaning you&#8217;ll need to manually
escape where necessary.</p>
<div class="section" id="output-escaping-in-twig">
<h3>Output Escaping in Twig<a class="headerlink" href="#output-escaping-in-twig" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;re using Twig templates, then output escaping is on by default. This
means that you&#8217;re protected out-of-the-box from the unintentional consequences
of user-submitted code. By default, the output escaping assumes that content
is being escaped for HTML output.</p>
<p>In some cases, you&#8217;ll need to disable output escaping when you&#8217;re rendering
a variable that is trusted and contains markup that should not be escaped.
Suppose that administrative users are able to write articles that contain
HTML code. By default, Twig will escape the article body. To render it normally,
add the <tt class="docutils literal"><span class="pre">raw</span></tt> filter: <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">article.body|raw</span> <span class="pre">}}</span></tt>.</p>
<p>You can also disable output escaping inside a <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> area or
for an entire template. For more information, see <a class="reference external" href="http://twig.sensiolabs.org/doc/api.html#escaper-extension">Output Escaping</a> in
the Twig documentation.</p>
</div>
<div class="section" id="output-escaping-in-php">
<h3>Output Escaping in PHP<a class="headerlink" href="#output-escaping-in-php" title="Permalink to this headline">¶</a></h3>
<p>Output escaping is not automatic when using PHP templates. This means that
unless you explicitly choose to escape a variable, you&#8217;re not protected. To
use output escaping, use the special <tt class="docutils literal"><span class="pre">escape()</span></tt> view method:</p>
<div class="highlight-python"><pre>Hello &lt;?php echo $view-&gt;escape($name) ?&gt;</pre>
</div>
<p>By default, the <tt class="docutils literal"><span class="pre">escape()</span></tt> method assumes that the variable is being rendered
within an HTML context (and thus the variable is escaped to be safe for HTML).
The second argument lets you change the context. For example, to output something
in a JavaScript string, use the <tt class="docutils literal"><span class="pre">js</span></tt> context:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">myMsg</span> <span class="o">=</span> <span class="s1">&#39;Hello &lt;?php echo $view-&gt;escape($name, &#39;</span><span class="nx">js</span><span class="s1">&#39;) ?&gt;&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="debugging">
<span id="template-formats"></span><span id="index-17"></span><h2>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">New in version 2.0.9: </span>This feature is available as of Twig <tt class="docutils literal"><span class="pre">1.5.x</span></tt>, which was first shipped
with Symfony 2.0.9.</p>
<p>When using PHP, you can use <tt class="docutils literal"><span class="pre">var_dump()</span></tt> if you need to quickly find the
value of a variable passed. This is useful, for example, inside your controller.
The same can be achieved when using Twig by using the debug extension. This
needs to be enabled in the config:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">acme_hello.twig.extension.debug</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span>        <span class="l-Scalar-Plain">Twig_Extension_Debug</span>
        <span class="l-Scalar-Plain">tags</span><span class="p-Indicator">:</span>
             <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">name</span><span class="p-Indicator">:</span> <span class="s">&#39;twig.extension&#39;</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;services&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;acme_hello.twig.extension.debug&quot;</span> <span class="na">class=</span><span class="s">&quot;Twig_Extension_Debug&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;twig.extension&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/service&gt;</span>
<span class="nt">&lt;/services&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">// app/config/config.php</span>
<span class="x">use Symfony\Component\DependencyInjection\Definition;</span>

<span class="x">$definition = new Definition(&#39;Twig_Extension_Debug&#39;);</span>
<span class="x">$definition-&gt;addTag(&#39;twig.extension&#39;);</span>
<span class="x">$container-&gt;setDefinition(&#39;acme_hello.twig.extension.debug&#39;, $definition);</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Template parameters can then be dumped using the <tt class="docutils literal"><span class="pre">dump</span></tt> function:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticleBundle/Resources/views/Article/recentList.html.twig #}</span>

<span class="cp">{{</span> <span class="nv">dump</span><span class="o">(</span><span class="nv">articles</span><span class="o">)</span> <span class="cp">}}</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">articles</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/article/</span><span class="cp">{{</span> <span class="nv">article.slug</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>The variables will only be dumped if Twig&#8217;s <tt class="docutils literal"><span class="pre">debug</span></tt> setting (in <tt class="docutils literal"><span class="pre">config.yml</span></tt>)
is <tt class="docutils literal"><span class="pre">true</span></tt>. By default this means that the variables will be dumped in the
<tt class="docutils literal"><span class="pre">dev</span></tt> environment but not the <tt class="docutils literal"><span class="pre">prod</span></tt> environment.</p>
</div>
<div class="section" id="id2">
<h2>Template Formats<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Templates are a generic way to render content in <em>any</em> format. And while in
most cases you&#8217;ll use templates to render HTML content, a template can just
as easily generate JavaScript, CSS, XML or any other format you can dream of.</p>
<p>For example, the same &#8220;resource&#8221; is often rendered in several different formats.
To render an article index page in XML, simply include the format in the
template name:</p>
<ul class="simple">
<li><em>XML template name</em>: <tt class="docutils literal"><span class="pre">AcmeArticleBundle:Article:index.xml.twig</span></tt></li>
<li><em>XML template filename</em>: <tt class="docutils literal"><span class="pre">index.xml.twig</span></tt></li>
</ul>
<p>In reality, this is nothing more than a naming convention and the template
isn&#8217;t actually rendered differently based on its format.</p>
<p>In many cases, you may want to allow a single controller to render multiple
different formats based on the &#8220;request format&#8221;. For that reason, a common
pattern is to do the following:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">public function indexAction()</span>
<span class="x">{</span>
<span class="x">    $format = $this-&gt;getRequest()-&gt;getRequestFormat();</span>

<span class="x">    return $this-&gt;render(&#39;AcmeBlogBundle:Blog:index.&#39;.$format.&#39;.twig&#39;);</span>
<span class="x">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">getRequestFormat</span></tt> on the <tt class="docutils literal"><span class="pre">Request</span></tt> object defaults to <tt class="docutils literal"><span class="pre">html</span></tt>,
but can return any other format based on the format requested by the user.
The request format is most often managed by the routing, where a route can
be configured so that <tt class="docutils literal"><span class="pre">/contact</span></tt> sets the request format to <tt class="docutils literal"><span class="pre">html</span></tt> while
<tt class="docutils literal"><span class="pre">/contact.xml</span></tt> sets the format to <tt class="docutils literal"><span class="pre">xml</span></tt>. For more information, see the
<a class="reference internal" href="routing.html#advanced-routing-example"><em>Advanced Example in the Routing chapter</em></a>.</p>
<p>To create links that include the format parameter, include a <tt class="docutils literal"><span class="pre">_format</span></tt>
key in the parameter hash:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;article_show&#39;</span><span class="o">,</span> <span class="o">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span> <span class="m">123</span><span class="o">,</span> <span class="s1">&#39;_format&#39;</span><span class="o">:</span> <span class="s1">&#39;pdf&#39;</span><span class="o">})</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
    PDF Version
<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;article_show&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;_format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;pdf&#39;</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
    PDF Version
<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="final-thoughts">
<h2>Final Thoughts<a class="headerlink" href="#final-thoughts" title="Permalink to this headline">¶</a></h2>
<p>The templating engine in Symfony is a powerful tool that can be used each time
you need to generate presentational content in HTML, XML or any other format.
And though templates are a common way to generate content in a controller,
their use is not mandatory. The <tt class="docutils literal"><span class="pre">Response</span></tt> object returned by a controller
can be created with our without the use of a template:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// creates a Response object whose content is the rendered template</span>
<span class="x">$response = $this-&gt;render(&#39;AcmeArticleBundle:Article:index.html.twig&#39;);</span>

<span class="x">// creates a Response object whose content is simple text</span>
<span class="x">$response = new Response(&#39;response content&#39;);</span>
</pre></div>
</div>
<p>Symfony&#8217;s templating engine is very flexible and two different template
renderers are available by default: the traditional <em>PHP</em> templates and the
sleek and powerful <em>Twig</em> templates. Both support a template hierarchy and
come packaged with a rich set of helper functions capable of performing
the most common tasks.</p>
<p>Overall, the topic of templating should be thought of as a powerful tool
that&#8217;s at your disposal. In some cases, you may not need to render a template,
and in Symfony2, that&#8217;s absolutely fine.</p>
</div>
<div class="section" id="learn-more-from-the-cookbook">
<h2>Learn more from the Cookbook<a class="headerlink" href="#learn-more-from-the-cookbook" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../cookbook/templating/PHP.html"><em>How to use PHP instead of Twig for Templates</em></a></li>
<li><a class="reference internal" href="../cookbook/controller/error_pages.html"><em>How to customize Error Pages</em></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Creating and using Templates</a><ul>
<li><a class="reference internal" href="#templates">Templates</a><ul>
<li><a class="reference internal" href="#twig-template-caching">Twig Template Caching</a></li>
</ul>
</li>
<li><a class="reference internal" href="#template-inheritance-and-layouts">Template Inheritance and Layouts</a></li>
<li><a class="reference internal" href="#template-naming-and-locations">Template Naming and Locations</a><ul>
<li><a class="reference internal" href="#template-suffix">Template Suffix</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tags-and-helpers">Tags and Helpers</a><ul>
<li><a class="reference internal" href="#including-other-templates">Including other Templates</a></li>
<li><a class="reference internal" href="#embedding-controllers">Embedding Controllers</a></li>
<li><a class="reference internal" href="#linking-to-pages">Linking to Pages</a></li>
<li><a class="reference internal" href="#linking-to-assets">Linking to Assets</a></li>
</ul>
</li>
<li><a class="reference internal" href="#including-stylesheets-and-javascripts-in-twig">Including Stylesheets and Javascripts in Twig</a></li>
<li><a class="reference internal" href="#global-template-variables">Global Template Variables</a></li>
<li><a class="reference internal" href="#configuring-and-using-the-templating-service">Configuring and using the <tt class="docutils literal"><span class="pre">templating</span></tt> Service</a></li>
<li><a class="reference internal" href="#overriding-bundle-templates">Overriding Bundle Templates</a><ul>
<li><a class="reference internal" href="#overriding-core-templates">Overriding Core Templates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#three-level-inheritance">Three-level Inheritance</a></li>
<li><a class="reference internal" href="#output-escaping">Output Escaping</a><ul>
<li><a class="reference internal" href="#output-escaping-in-twig">Output Escaping in Twig</a></li>
<li><a class="reference internal" href="#output-escaping-in-php">Output Escaping in PHP</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debugging">Debugging</a></li>
<li><a class="reference internal" href="#id2">Template Formats</a></li>
<li><a class="reference internal" href="#final-thoughts">Final Thoughts</a></li>
<li><a class="reference internal" href="#learn-more-from-the-cookbook">Learn more from the Cookbook</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="routing.html"
                        title="previous chapter">Routing</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="doctrine.html"
                        title="next chapter">Databases and Doctrine (&#8220;The Model&#8221;)</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/book/templating.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="doctrine.html" title="Databases and Doctrine (“The Model”)"
             >next</a> |</li>
        <li class="right" >
          <a href="routing.html" title="Routing"
             >previous</a> |</li>
        <li><a href="../index.html">Symfony2Docs v1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Book</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Symfony Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>