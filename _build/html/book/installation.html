

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing and Configuring Symfony &mdash; Symfony2Docs v2.1.0 2.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Symfony2Docs v2.1.0 2.1.0 documentation" href="../index.html" />
    <link rel="up" title="The Book" href="index.html" />
    <link rel="next" title="Creating Pages in Symfony2" href="page_creation.html" />
    <link rel="prev" title="Symfony2 versus Flat PHP" href="from_flat_php_to_symfony2.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="page_creation.html" title="Creating Pages in Symfony2"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="from_flat_php_to_symfony2.html" title="Symfony2 versus Flat PHP"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Symfony2Docs v2.1.0 2.1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">The Book</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installing-and-configuring-symfony">
<span id="index-0"></span><h1>Installing and Configuring Symfony<a class="headerlink" href="#installing-and-configuring-symfony" title="Permalink to this headline">¶</a></h1>
<p>The goal of this chapter is to get you up and running with a working application
built on top of Symfony. Fortunately, Symfony offers &#8220;distributions&#8221;, which
are functional Symfony &#8220;starter&#8221; projects that you can download and begin
developing in immediately.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you&#8217;re looking for instructions on how best to create a new project
and store it via source control, see <a class="reference internal" href="#using-source-control">Using Source Control</a>.</p>
</div>
<div class="section" id="installing-a-symfony2-distribution">
<h2>Installing a Symfony2 Distribution<a class="headerlink" href="#installing-a-symfony2-distribution" title="Permalink to this headline">¶</a></h2>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">First, check that you have installed and configured a Web server (such as
Apache) with the most recent PHP version possible (PHP 5.3.8 or newer is
recommended). For more information on Symfony2 requirements, see the
<a class="reference internal" href="../reference/requirements.html"><em>requirements reference</em></a>. For information on
configuring your specific web server document root, see the following
documentation: <a class="reference external" href="http://httpd.apache.org/docs/current/mod/core.html#documentroot">Apache</a> | <a class="reference external" href="http://wiki.nginx.org/Symfony">Nginx</a> .</p>
</div>
<p>Symfony2 packages &#8220;distributions&#8221;, which are fully-functional applications
that include the Symfony2 core libraries, a selection of useful bundles, a
sensible directory structure and some default configuration. When you download
a Symfony2 distribution, you&#8217;re downloading a functional application skeleton
that can be used immediately to begin developing your application.</p>
<p>Start by visiting the Symfony2 download page at <a class="reference external" href="http://symfony.com/download">http://symfony.com/download</a>.
On this page, you&#8217;ll see the <em>Symfony Standard Edition</em>, which is the main
Symfony2 distribution. There are 2 ways to get your project started:</p>
<div class="section" id="option-1-composer">
<h3>Option 1) Composer<a class="headerlink" href="#option-1-composer" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://getcomposer.org/">Composer</a> is a dependency management library for PHP, which you can use
to download the Symfony2 Standard Edition.</p>
<p>Start by <a class="reference external" href="http://getcomposer.org/download/">downloading Composer</a> anywhere onto your local computer. If you
have curl installed, it&#8217;s as easy as:</p>
<div class="highlight-bash"><div class="highlight"><pre>curl -s https://getcomposer.org/installer | php
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If your computer is not ready to use Composer, you&#8217;ll see some recommendations
when running this command. Follow those recommendations to get Composer
working properly.</p>
</div>
<p>Composer is an executable PHAR file, which you can use to download the Standard
Distribution:</p>
<div class="highlight-bash"><div class="highlight"><pre>php composer.phar create-project symfony/framework-standard-edition /path/to/webroot/Symfony
</pre></div>
</div>
<p>This command may take several minutes to run as Composer download the Standard
Distribution along with all of the vendor libraries that it needs. When it finishes,
you should have a directory that looks something like this:</p>
<div class="highlight-text"><div class="highlight"><pre>path/to/webroot/ &lt;- your web root directory
    Symfony/ &lt;- the new directory
        app/
            cache/
            config/
            logs/
        src/
            ...
        vendor/
            ...
        web/
            app.php
            ...
</pre></div>
</div>
</div>
<div class="section" id="option-2-download-an-archive">
<h3>Option 2) Download an Archive<a class="headerlink" href="#option-2-download-an-archive" title="Permalink to this headline">¶</a></h3>
<p>You can also download an archive of the Standard Edition. Here, you&#8217;ll
need to make two choices:</p>
<ul class="simple">
<li>Download either a <tt class="docutils literal"><span class="pre">.tgz</span></tt> or <tt class="docutils literal"><span class="pre">.zip</span></tt> archive - both are equivalent, download
whatever you&#8217;re more comfortable using;</li>
<li>Download the distribution with or without vendors. If you&#8217;re planning on
using more third-party libraries or bundles and managing them via Composer,
you should probably download &#8220;without vendors&#8221;.</li>
</ul>
<p>Download one of the archives somewhere under your local web server&#8217;s root
directory and unpack it. From a UNIX command line, this can be done with
one of the following commands (replacing <tt class="docutils literal"><span class="pre">###</span></tt> with your actual filename):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># for .tgz file</span>
<span class="nv">$ </span>tar zxvf Symfony_Standard_Vendors_2.1.###.tgz

<span class="c"># for a .zip file</span>
<span class="nv">$ </span>unzip Symfony_Standard_Vendors_2.1.###.zip
</pre></div>
</div>
<p>If you&#8217;ve downloaded &#8220;without vendors&#8221;, you&#8217;ll definitely need to read the
next section.</p>
</div>
<div class="section" id="updating-vendors">
<span id="installation-updating-vendors"></span><h3>Updating Vendors<a class="headerlink" href="#updating-vendors" title="Permalink to this headline">¶</a></h3>
<p>At this point, you&#8217;ve downloaded a fully-functional Symfony project in which
you&#8217;ll start to develop your own application. A Symfony project depends on
a number of external libraries. These are downloaded into the <cite>vendor/</cite> directory
of your project via a library called <a class="reference external" href="http://getcomposer.org/">Composer</a>.</p>
<p>Depending on how you downloaded Symfony, you may or may not need to do update
your vendors right now. But, updating your vendors is always safe, and guarantees
that you have all the vendor libraries you need.</p>
<p>Step 1: Get <a class="reference external" href="http://getcomposer.org/">Composer</a> (The great new PHP packaging system)</p>
<div class="highlight-bash"><div class="highlight"><pre>curl -s http://getcomposer.org/installer | php
</pre></div>
</div>
<p>Make sure you download <tt class="docutils literal"><span class="pre">composer.phar</span></tt> in the same folder where
the <tt class="docutils literal"><span class="pre">composer.json</span></tt> file is located (this is your Symfony project
root by default).</p>
<p>Step 2: Install vendors</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php composer.phar install
</pre></div>
</div>
<p>This command downloads all of the necessary vendor libraries - including
Symfony itself - into the <tt class="docutils literal"><span class="pre">vendor/</span></tt> directory.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you don&#8217;t have <tt class="docutils literal"><span class="pre">curl</span></tt> installed, you can also just download the <tt class="docutils literal"><span class="pre">installer</span></tt>
file manually at <a class="reference external" href="http://getcomposer.org/installer">http://getcomposer.org/installer</a>. Place this file into your
project and then run:</p>
<div class="last highlight-bash"><div class="highlight"><pre>php installer
php composer.phar install
</pre></div>
</div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>When running <tt class="docutils literal"><span class="pre">php</span> <span class="pre">composer.phar</span> <span class="pre">install</span></tt> or <tt class="docutils literal"><span class="pre">php</span> <span class="pre">composer.phar</span> <span class="pre">update</span></tt>,
composer will execute post install/update commands to clear the cache
and install assets. By default, the assets will be copied into your <tt class="docutils literal"><span class="pre">web</span></tt>
directory. To create symlinks instead of copying the assets, you can
add an entry in the <tt class="docutils literal"><span class="pre">extra</span></tt> node of your composer.json file with the
key <tt class="docutils literal"><span class="pre">symfony-assets-install</span></tt> and the value <tt class="docutils literal"><span class="pre">symlink</span></tt>:</p>
<div class="highlight-json"><pre>"extra": {
    "symfony-app-dir": "app",
    "symfony-web-dir": "web",
    "symfony-assets-install": "symlink"
}</pre>
</div>
<p class="last">When passing <tt class="docutils literal"><span class="pre">relative</span></tt> instead of <tt class="docutils literal"><span class="pre">symlink</span></tt> to symfony-assets-install,
the command will generate relative symlinks.</p>
</div>
</div>
<div class="section" id="configuration-and-setup">
<h3>Configuration and Setup<a class="headerlink" href="#configuration-and-setup" title="Permalink to this headline">¶</a></h3>
<p>At this point, all of the needed third-party libraries now live in the <tt class="docutils literal"><span class="pre">vendor/</span></tt>
directory. You also have a default application setup in <tt class="docutils literal"><span class="pre">app/</span></tt> and some
sample code inside the <tt class="docutils literal"><span class="pre">src/</span></tt> directory.</p>
<p>Symfony2 comes with a visual server configuration tester to help make sure
your Web server and PHP are configured to use Symfony. Use the following URL
to check your configuration:</p>
<div class="highlight-text"><div class="highlight"><pre>http://localhost/config.php
</pre></div>
</div>
<p>If there are any issues, correct them now before moving on.</p>
<div class="sidebar">
<p class="first sidebar-title">Setting up Permissions</p>
<p>One common issue is that the <tt class="docutils literal"><span class="pre">app/cache</span></tt> and <tt class="docutils literal"><span class="pre">app/logs</span></tt> directories
must be writable both by the web server and the command line user. On
a UNIX system, if your web server user is different from your command
line user, you can run the following commands just once in your project
to ensure that permissions will be setup properly. Change <tt class="docutils literal"><span class="pre">www-data</span></tt>
to your web server user:</p>
<p><strong>1. Using ACL on a system that supports chmod +a</strong></p>
<p>Many systems allow you to use the <tt class="docutils literal"><span class="pre">chmod</span> <span class="pre">+a</span></tt> command. Try this first,
and if you get an error - try the next method:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>rm -rf app/cache/*
<span class="nv">$ </span>rm -rf app/logs/*

<span class="nv">$ </span>sudo chmod +a <span class="s2">&quot;www-data allow delete,write,append,file_inherit,directory_inherit&quot;</span> app/cache app/logs
<span class="nv">$ </span>sudo chmod +a <span class="s2">&quot;`whoami` allow delete,write,append,file_inherit,directory_inherit&quot;</span> app/cache app/logs
</pre></div>
</div>
<p><strong>2. Using Acl on a system that does not support chmod +a</strong></p>
<p>Some systems don&#8217;t support <tt class="docutils literal"><span class="pre">chmod</span> <span class="pre">+a</span></tt>, but do support another utility
called <tt class="docutils literal"><span class="pre">setfacl</span></tt>. You may need to <a class="reference external" href="https://help.ubuntu.com/community/FilePermissionsACLs">enable ACL support</a> on your partition
and install setfacl before using it (as is the case with Ubuntu), like
so:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo setfacl -R -m u:www-data:rwx -m u:<span class="sb">`</span>whoami<span class="sb">`</span>:rwx app/cache app/logs
<span class="nv">$ </span>sudo setfacl -dR -m u:www-data:rwx -m u:<span class="sb">`</span>whoami<span class="sb">`</span>:rwx app/cache app/logs
</pre></div>
</div>
<p>Note that not all web servers run as the user <tt class="docutils literal"><span class="pre">www-data</span></tt>. You have to
check which user the web server is being run as and put it in for <tt class="docutils literal"><span class="pre">www-data</span></tt>.
This can be done by checking your process list to see which user is running
your web server processes.</p>
<p><strong>3. Without using ACL</strong></p>
<p>If you don&#8217;t have access to changing the ACL of the directories, you will
need to change the umask so that the cache and log directories will
be group-writable or world-writable (depending if the web server user
and the command line user are in the same group or not). To achieve
this, put the following line at the beginning of the <tt class="docutils literal"><span class="pre">app/console</span></tt>,
<tt class="docutils literal"><span class="pre">web/app.php</span></tt> and <tt class="docutils literal"><span class="pre">web/app_dev.php</span></tt> files:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nb">umask</span><span class="p">(</span><span class="mo">0002</span><span class="p">);</span> <span class="c1">// This will let the permissions be 0775</span>

<span class="c1">// or</span>

<span class="nb">umask</span><span class="p">(</span><span class="mo">0000</span><span class="p">);</span> <span class="c1">// This will let the permissions be 0777</span>
</pre></div>
</div>
<p class="last">Note that using the ACL is recommended when you have access to them
on your server because changing the umask is not thread-safe.</p>
</div>
<p>When everything is fine, click on &#8220;Go to the Welcome page&#8221; to request your
first &#8220;real&#8221; Symfony2 webpage:</p>
<div class="highlight-text"><div class="highlight"><pre>http://localhost/app_dev.php/
</pre></div>
</div>
<p>Symfony2 should welcome and congratulate you for your hard work so far!</p>
<img alt="../_images/welcome.jpg" src="../_images/welcome.jpg" />
</div>
</div>
<div class="section" id="beginning-development">
<h2>Beginning Development<a class="headerlink" href="#beginning-development" title="Permalink to this headline">¶</a></h2>
<p>Now that you have a fully-functional Symfony2 application, you can begin
development! Your distribution may contain some sample code - check the
<tt class="docutils literal"><span class="pre">README.rst</span></tt> file included with the distribution (open it as a text file)
to learn about what sample code was included with your distribution and how
you can remove it later.</p>
<p>If you&#8217;re new to Symfony, join us in the &#8220;<a class="reference internal" href="page_creation.html"><em>Creating Pages in Symfony2</em></a>&#8221;, where you&#8217;ll
learn how to create pages, change configuration, and do everything else you&#8217;ll
need in your new application.</p>
<p>Be sure to also check out the <a class="reference internal" href="../cookbook/index.html"><em>Cookbook</em></a>, which contains
a wide variety of articles about solving specific problems with Symfony.</p>
</div>
<div class="section" id="using-source-control">
<h2>Using Source Control<a class="headerlink" href="#using-source-control" title="Permalink to this headline">¶</a></h2>
<p>If you&#8217;re using a version control system like <tt class="docutils literal"><span class="pre">Git</span></tt> or <tt class="docutils literal"><span class="pre">Subversion</span></tt>, you
can setup your version control system and begin committing your project to
it as normal. The Symfony Standard edition <em>is</em> the starting point for your
new project.</p>
<p>For specific instructions on how best to setup your project to be stored
in git, see <a class="reference internal" href="../cookbook/workflow/new_project_git.html"><em>How to Create and store a Symfony2 Project in git</em></a>.</p>
<div class="section" id="ignoring-the-vendor-directory">
<h3>Ignoring the <tt class="docutils literal"><span class="pre">vendor/</span></tt> Directory<a class="headerlink" href="#ignoring-the-vendor-directory" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;ve downloaded the archive <em>without vendors</em>, you can safely ignore
the entire <tt class="docutils literal"><span class="pre">vendor/</span></tt> directory and not commit it to source control. With
<tt class="docutils literal"><span class="pre">Git</span></tt>, this is done by creating and adding the following to a <tt class="docutils literal"><span class="pre">.gitignore</span></tt>
file:</p>
<div class="highlight-text"><div class="highlight"><pre>/vendor/
</pre></div>
</div>
<p>Now, the vendor directory won&#8217;t be committed to source control. This is fine
(actually, it&#8217;s great!) because when someone else clones or checks out the
project, he/she can simply run the <tt class="docutils literal"><span class="pre">php</span> <span class="pre">composer.phar</span> <span class="pre">install</span></tt> script to
install all the necessary project dependencies.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installing and Configuring Symfony</a><ul>
<li><a class="reference internal" href="#installing-a-symfony2-distribution">Installing a Symfony2 Distribution</a><ul>
<li><a class="reference internal" href="#option-1-composer">Option 1) Composer</a></li>
<li><a class="reference internal" href="#option-2-download-an-archive">Option 2) Download an Archive</a></li>
<li><a class="reference internal" href="#updating-vendors">Updating Vendors</a></li>
<li><a class="reference internal" href="#configuration-and-setup">Configuration and Setup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#beginning-development">Beginning Development</a></li>
<li><a class="reference internal" href="#using-source-control">Using Source Control</a><ul>
<li><a class="reference internal" href="#ignoring-the-vendor-directory">Ignoring the <tt class="docutils literal"><span class="pre">vendor/</span></tt> Directory</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="from_flat_php_to_symfony2.html"
                        title="previous chapter">Symfony2 versus Flat PHP</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="page_creation.html"
                        title="next chapter">Creating Pages in Symfony2</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/book/installation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="page_creation.html" title="Creating Pages in Symfony2"
             >next</a> |</li>
        <li class="right" >
          <a href="from_flat_php_to_symfony2.html" title="Symfony2 versus Flat PHP"
             >previous</a> |</li>
        <li><a href="../index.html">Symfony2Docs v2.1.0 2.1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >The Book</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Symfony Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>